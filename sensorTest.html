<!doctype html>
<html>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0">
	
	<head>
		<title>sensor test</title>
	</head>
	<!--外部引用样式-->
<!-- 	
	<link rel="stylesheet" type="text/css" href="css/cssVar.css">
	<link rel="stylesheet" type="text/css" href="css/commStyle.css">
	<link rel="stylesheet" type="text/css" href="css/animate.css">
 -->
	<body>		
		<div style="width:10em; height:10em; 
					display:flex; justify-content:center; align-items:center;
					background-color:aliceblue; border-radius:50%;
					perspective: 20em;perspective-origin: center;	">
			<div id="mark" style="width:50%; height:90%; background-color:yellow;
					border-radius:.5em; position:relative;
					display:flex; justify-content:center;">
				<div style="width:2em; height:.6em; background-color:black;
					border-radius:0 0 .3em .3em;"></div>
				<div style="width:1em; height:1em; background-color:white;
					border-radius:50%; position:absolute; bottom:.3em;"></div>
			</div>
		</div>
		<label id="lb" style="white-space: pre-wrap;"></label>
	</body>

	<script type="text/javascript">
		'use strict';
		
		window.addEventListener('DOMContentLoaded', function(){
			const label=document.getElementById("lb");
			const mark=document.getElementById("mark");
			if (window.DeviceOrientationEvent){
				window.addEventListener("deviceorientation", handleDeviceOrientation, false);							
			}else{
				label.textContent="Do not supported DeviceOrientationEvent";
			}
			function handleDeviceOrientation(e){
				const x=e.alpha.toFixed(2), 
					y=e.beta.toFixed(2), 
					z=e.gamma.toFixed(2);
				label.textContent=`x:${x}\ny:${y}\nz:${z}`;	
				mark.style.transform=`rotateY(${z}deg) rotateX(${-y}deg) rotateZ(${-x}deg)`;			
			}			
		});
	</script>
	
</html>
